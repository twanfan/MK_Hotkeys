# MK_Hotkeys
基于AutoHotkey天下霸图的快捷键工具

下载地址：  
[度盘](https://pan.baidu.com/s/1KxJ7imfTDixIGjzY_gS9yg)  
[Github](https://github.com/wf4gh/MK_Hotkeys/releases)  


#### 一、简单使用说明
（想尽快体验游戏的，只看这些就够了)  
1. 下载至任意位置  
2. 解压缩  
3. 以管理员权限运行  
4. 在游戏中按右Ctrl (~~右Shift~~) 键，查看快捷键  
5. 使用

#### 二、进阶使用说明
- 自定义快捷键：

	打开config.ini，修改“按键设置”部分。
	字母、数字直接用对应的字母、数字即可：
	```
	;系统
	k_op_system=s
	```
	Ctrl / Alt / Shift键单独使用时需要指定左右，如左Ctrl为LCtrl，右Shift为RShift:
	```
	;提示键，按下时显示提示
	k_tooltip=RShift
	```

- 自定义提示显示位置：

	修改config.ini中以下两个值：
	```
	tooltip_prop_x=0.05
	tooltip_prop_y=0.1
	```
	tooltip_prop_x 取值0-1对应屏幕位置左到右，tooltip_prop_y 取值0-1对应屏幕位置上到下

- 原理简介及说明：

	这个工具基于AutoHotkey，从原理上说，所有快捷键都是通过将键盘按键映射到一次或多次在特定位置的鼠标点击实现的。鼠标点击的位置使用运行游戏时特定图标的坐标值确定。所要用到的图标/按钮的坐标比例数据都写在 config.ini 中。因为一些键盘按键用作快捷键，所以很有可能在输入人物姓名时会出现无法有效输入的情况，此时可以暂时关闭此程序，姓名输入完成后再重新运行。

	不使用图片确定鼠标点击位置，主要是因为图片在不同分辨率下，全屏游戏时可能（根据显示设定）会进行不同程度的拉伸，使工具无法做到基本通用；次要原因是使用图片确定点击本质上每次点击都需要进行一次图片搜索，一定程度上响运行效率。然而，这也带来了很明显的不利影响，比如无法通过图片确定画面中“确定”、“取消”等经常出现的按钮的位置，所以每个会出现按钮的位置都需要单独的一个快捷键；无法根据图片判断当前是在经营、战斗或物品管理界面，造成不能动态启用对应界面的快捷键等。

	当然，这个问题理论上也是完全可以解决的，比如在第一次使用此工具时，在进入游戏后提示打开对应的界面、程序自动获取相应区域的图片以备使用，如此就解决了不同分辨率的兼容性问题；只在关键需要判断的地方使用图片判断，位置相对固定的子菜单还是使用坐标值位置，也能在很大程度上减小图片搜索带来的效率问题。然而，由于工作量比较大，近期不大可以实现。（好吧，说实话，远期我也不确定）
---
## 更新记录
### v0.1.0
2018.05.26
- 最初版本，可通过快捷键实现：
	- 进入经营界面的主要子菜单
	- 一键存档 / 读档
	- 一键切换游戏速度最快 / 最慢

### v0.2.0
2018.05.26
- 增加了对各种不同分辨率的支持，使用了分辨率补丁版本的游戏应该也能正常使用了
- 支持在游戏开始界面直接按快速读取快捷键读取快速保存的存档
- 增加了各子菜单（人物、交易等）的返回快捷键

### v0.2.1
2018.05.26
- 修复菜单按钮位置数据，使快速存档、读档功能在战斗界面中也能正常使用

### v0.3.0
2018.05.28
- 添加人物包袱和仓库间快速移动物品的功能（Shift + 鼠标左键）
- 添加从包袱或仓库快速使用物品（药、书）的功能（Alt + Shift + 鼠标左键）

### v0.4.0
2018.05.29
- 添加在战斗中快速切换武器的功能 （Alt + 鼠标左键）
- 默认查看提示的快捷键调整为右Ctrl键
- 显示的快捷键提示调整到画面的最左上角
- 添加从战斗或经营界面快速退出游戏的快捷键 （Ctrl + Alt + Shift + z）
- 配置文件中添加是否显示系统任务栏提示的选项，可关闭任务栏提示：
	- 设置 ```show_tray_tips=0``` 关闭提示
	- 不影响快捷键，快捷键仍然只在游戏运行时才自动启用